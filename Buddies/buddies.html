<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Buddies</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="buddies.css">
    <link rel="stylesheet" href="mini-player.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="mobile-container buddies-page">
        <!-- Header -->
        <header class="buddies-header">
            <button class="back-btn" onclick="window.history.back()">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <h1>Study Buddies</h1>
            <div class="header-spacer" style="width: 40px;"></div>
        </header>

        <div class="content-scroll">
            <!-- Search -->
            <div class="search-container">
                <div class="search-input-wrapper">
                    <i class="fa-solid fa-magnifying-glass search-icon"></i>
                    <input type="text" placeholder="Search">
                </div>
                <button class="add-btn">
                    <i class="fa-solid fa-plus"></i>
                </button>
            </div>

            <!-- Online Friends List (Horizontal) -->
            <div class="online-friends-section">
                <div class="online-friends-list">
                    <!-- Add Item -->
                    <div class="online-friend-item add-new">
                        <div class="friend-avatar add-avatar">
                            <i class="fa-solid fa-plus"></i>
                        </div>
                    </div>
                    <!-- Friend 1 -->
                    <div class="online-friend-item">
                        <div class="friend-avatar">
                            <img src="https://i.pinimg.com/1200x/04/0d/1e/040d1e114447763b43f724a3b4831898.jpg" alt="User">
                            <div class="status-dot online"></div>
                        </div>
                    </div>
                    <!-- Friend 2 -->
                    <div class="online-friend-item">
                        <div class="friend-avatar">
                            <img src="https://preview.redd.it/the-concept-of-nick-wilde-wearing-a-tank-top-still-keeps-me-v0-uinb7rv514yf1.jpeg?width=640&crop=smart&auto=webp&s=21fa6813f20b54ee7e595c81c6c8506adb5b28ec" alt="User">
                            <div class="status-dot online"></div>
                        </div>
                    </div>
                    <!-- Friend 3 -->
                    <div class="online-friend-item">
                        <div class="friend-avatar">
                            <img src="https://i.pinimg.com/1200x/5b/77/42/5b774227ec56df43556ae9ef0a61a658.jpg" alt="User">
                            <div class="status-dot busy"></div>
                        </div>
                    </div>
                    <!-- Friend 4 -->
                    <div class="online-friend-item">
                        <div class="friend-avatar">
                            <img src="https://i.pinimg.com/1200x/d1/e5/7d/d1e57dbf3f1c36d155f6cc26447068e9.jpg" alt="User">
                            <div class="status-dot online"></div>
                        </div>
                    </div>
                     <!-- Friend 5 -->
                    <div class="online-friend-item">
                        <div class="friend-avatar">
                            <img src="https://i.pinimg.com/736x/64/f8/f7/64f8f765a7567644a1d7304007c9b85d.jpg" alt="User">
                            <div class="status-dot online"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Group Discussion Section -->
            <div class="section-header">
                <h2>Group Discussion On Going</h2>
            </div>

            <div class="group-discussion-list">
                <!-- Card 1 -->
                <div class="group-card">
                    <div class="live-badge">
                        <div class="red-dot"></div> Live
                    </div>
                    <div class="group-content">
                        <p class="group-topic-label">Topic</p>
                        <h3 class="group-title">Human Resources Analysis</h3>
                        <div class="group-author">
                            <img src="https://i.pinimg.com/736x/64/f8/f7/64f8f765a7567644a1d7304007c9b85d.jpg" alt="Author">
                            <div class="author-info">
                                <span>By Emran Emon</span>
                            </div>
                        </div>
                        <div class="group-participants">
                            <img src="https://i.pinimg.com/736x/c2/30/10/c230105794175a21ecab7a3590e8aed8.jpg" alt="P1">
                            <img src="https://i.pinimg.com/736x/62/14/20/621420c5c07e1bc367756f8da9b5ead2.jpg" alt="P2">
                            <img src="https://i.pinimg.com/736x/8d/4c/ec/8d4cecfcd4d021b68238836bea40e8d6.jpg" alt="P3">
                            <img src="https://i.pinimg.com/736x/5a/36/5e/5a365e42d8be25368104e3c9f16e9c9b.jpg" alt="P4">
                            <div class="more-participants">8+</div>
                        </div>
                    </div>
                    <button class="join-group-btn">Join</button>
                    <div class="group-decor-circle big orange"></div>
                    <div class="group-decor-circle small pink"></div>
                    <div class="group-decor-circle tiny yellow"></div>
                </div>

                <!-- Card 2 -->
                <div class="group-card blue-theme">
                    <div class="live-badge">
                        <div class="red-dot"></div> Live
                    </div>
                    <div class="group-content">
                        <p class="group-topic-label">Topic</p>
                        <h3 class="group-title">UI/UX Design Trends</h3>
                        <div class="group-author">
                            <img src="https://i.pinimg.com/736x/68/6d/43/686d43a041ab9cde81fecdeb1da47d8b.jpg" alt="Author">
                            <div class="author-info">
                                <span>By Sarah Smith</span>
                            </div>
                        </div>
                        <div class="group-participants">
                            <img src="https://i.pinimg.com/736x/b0/f2/d7/b0f2d7f7ae7d29ff11e6dbeb338d5014.jpg" alt="P1">
                            <img src="https://i.pinimg.com/736x/67/d5/01/67d501d19f7127088f894eaf0381d236.jpg" alt="P2">
                            <div class="more-participants">3+</div>
                        </div>
                    </div>
                    <button class="join-group-btn">Join</button>
                    <div class="group-decor-circle big blue"></div>
                    <div class="group-decor-circle small purple"></div>
                </div>
            </div>

            <!-- All Friends Section -->
            <div class="section-header">
                <h2>Available to Join</h2>
            </div>

            <div class="all-friends-list">
                <!-- Friend 1 -->
                <div class="friend-card">
                    <div class="friend-avatar-container">
                        <img src="https://i.pinimg.com/736x/6c/c6/8d/6cc68d61d16bdf2accf93d38d089165e.jpg" alt="Friend">
                        <div class="status-indicator online"></div>
                    </div>
                    <div class="friend-details">
                        <h3>Nick Wilde</h3>
                        <p>Studied: 4h 30m</p>
                    </div>
                    <div class="friend-actions">
                        <button class="action-btn message-btn" onclick="window.location.href='chat.html?name=Nick%20Wilde&avatar=https://i.pinimg.com/736x/6c/c6/8d/6cc68d61d16bdf2accf93d38d089165e.jpg'"><i class="fa-regular fa-comment-dots"></i></button>
                        <button class="action-btn join-btn" onclick="requestJoin('Nick Wilde')"><i class="fa-solid fa-right-to-bracket"></i></button>
                    </div>
                </div>

                <!-- Friend 2 -->
                <div class="friend-card">
                    <div class="friend-avatar-container">
                        <img src="https://i.pinimg.com/736x/62/14/20/621420c5c07e1bc367756f8da9b5ead2.jpg" alt="Friend">
                        <div class="status-indicator online"></div>
                    </div>
                    <div class="friend-details">
                        <h3>Gazelle</h3>
                        <p>Studied: 3h 15m</p>
                    </div>
                    <div class="friend-actions">
                        <button class="action-btn message-btn" onclick="window.location.href='chat.html?name=Gazelle&avatar=https://i.pinimg.com/736x/62/14/20/621420c5c07e1bc367756f8da9b5ead2.jpg'"><i class="fa-regular fa-comment-dots"></i></button>
                        <button class="action-btn join-btn" onclick="requestJoin('Gazelle')"><i class="fa-solid fa-right-to-bracket"></i></button>
                    </div>
                </div>

                <!-- Friend 3 -->
                <div class="friend-card">
                    <div class="friend-avatar-container">
                        <img src="https://i.pinimg.com/736x/c2/30/10/c230105794175a21ecab7a3590e8aed8.jpg" alt="Friend">
                        <div class="status-indicator busy"></div>
                    </div>
                    <div class="friend-details">
                        <h3>Chief Bogo</h3>
                        <p>Studied: 5h 00m</p>
                    </div>
                    <div class="friend-actions">
                        <button class="action-btn message-btn" onclick="window.location.href='chat.html?name=Chief%20Bogo&avatar=https://i.pinimg.com/736x/c2/30/10/c230105794175a21ecab7a3590e8aed8.jpg'"><i class="fa-regular fa-comment-dots"></i></button>
                        <button class="action-btn join-btn" onclick="requestJoin('Chief Bogo')"><i class="fa-solid fa-right-to-bracket"></i></button>
                    </div>
                </div>

                <!-- Friend 4 -->
                <div class="friend-card">
                    <div class="friend-avatar-container">
                        <img src="https://i.pinimg.com/736x/8d/4c/ec/8d4cecfcd4d021b68238836bea40e8d6.jpg" alt="Friend">
                        <div class="status-indicator online"></div>
                    </div>
                    <div class="friend-details">
                        <h3>Bellwether</h3>
                        <p>Studied: 2h 45m</p>
                    </div>
                    <div class="friend-actions">
                        <button class="action-btn message-btn" onclick="window.location.href='chat.html?name=Bellwether&avatar=https://i.pinimg.com/736x/8d/4c/ec/8d4cecfcd4d021b68238836bea40e8d6.jpg'"><i class="fa-regular fa-comment-dots"></i></button>
                        <button class="action-btn join-btn" onclick="requestJoin('Bellwether')"><i class="fa-solid fa-right-to-bracket"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Join Request Popup (Reused) -->
        <div id="join-popup" class="popup-overlay hidden">
            <div class="popup-content">
                <div class="popup-icon">
                    <i class="fa-solid fa-hourglass-half"></i>
                </div>
                <h3>Waiting for response...</h3>
                <p>Asking <span id="popup-friend-name">Friend</span> to join...</p>
                <div class="timer-circle">
                    <span id="countdown">30</span>
                </div>
                <button class="cancel-btn" onclick="cancelJoin()">Cancel</button>
            </div>
        </div>

        <!-- Mini Player (Hidden by default) -->
        <div id="mini-player" class="mini-player hidden">
            <div class="mini-content" id="mini-player-content">
                <div class="mini-status pulse"></div>
                <div class="mini-info">
                    <span class="mini-title" id="mini-player-title">Study Session</span>
                    <span class="mini-timer" id="mini-player-timer">00:00</span>
                </div>
            </div>
            <button class="mini-end-btn" id="mini-player-end-btn">
                <i class="fa-solid fa-phone-slash"></i>
            </button>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="../index.html" class="nav-item">
                <i class="fa-solid fa-house"></i>
            </a>
            <a href="../Dashboard/dashboard.html" class="nav-item">
                <i class="fa-solid fa-chart-pie"></i>
            </a>
            <a href="#" class="nav-item active">
                <i class="fa-solid fa-user-group"></i>
                <span>Buddies</span>
            </a>
            <a href="../ToDo/todo.html" class="nav-item">
                <i class="fa-solid fa-list-check"></i>
            </a>
            <a href="../Profile/profile.html" class="nav-item">
                <i class="fa-regular fa-user"></i>
            </a>
        </nav>

        
    <footer></footer>
    </div>

    <script src="../script.js"></script>
</body>
</html>